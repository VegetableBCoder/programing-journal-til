# 对象引用

## GC Root有哪些

* 虚拟机栈中引用的对象
* 本地方法栈引用的对象
* 方法区静态属性引用的对象
* 方法区常量引用的对象
* 虚拟机内部的引用, 常驻异常对象等
* 被synchronized同步锁持有的对象
* 反应JVM内部情况的Bean, 如JMX Bean, JVMTI中注册的回调, 本地代码缓存等

## 引用类型

* 强引用: 最常见的对象引用, 如 Object o = new Object(); 任何情况下, 只要GCRoot到这个对象的强引用还存在,  对象就不会被回收
* 软引用: 软引用用来描述一些有用, 但是非必须的对象, 在系统将要发生内存溢出时, 这些对象将会被列入回收范围进行第二次回收, 如果这次回收之后还是没有足够的空间, 系统将会抛出内存溢出异常
* 弱引用: 弱引用也用来描述一些非必须对象, 强度比软引用更弱, 这些对象只能存活到下一次GC, 无论内存是否足够, 这些对象都会被回收
* 虚引用: 最弱的引用关系, 设置虚引用的目的是为了在这个对象被回收时收到一条通知